\def\year{2016}\relax
%File: formatting-instruction.tex
\documentclass[letterpaper]{article}
%\the\year{2016}
\usepackage{aaai16}
\usepackage{times}
\usepackage{helvet}
\usepackage{courier}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{algorithm}
\usepackage{multirow} 
\usepackage{algorithmic}
\usepackage{booktabs,caption,fixltx2e}
\usepackage[flushleft]{threeparttable}
\usepackage{subfig}
\usepackage{threeparttable}
\renewcommand{\vec}[1]{\mathbf{#1}}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\frenchspacing
\setlength{\pdfpagewidth}{8.5in}
\setlength{\pdfpageheight}{11in}
\DeclareMathOperator*{\argmin}{arg\,min}
\pdfinfo{
/Title (Insert Your Title Here)
/Author (Put All Your Authors Here, Separated by Commas)}
\setcounter{secnumdepth}{0}  
 \begin{document}
% The file aaai.sty is the style file for AAAI Press 
% proceedings, working notes, and technical reports.
%
\title{Top-N Recommender System via Matrix Completion}
\author{Zhao Kang\quad Chong Peng\quad Qiang Cheng\\
Department of Computer Science, Southern Illinois University, Carbondale, IL 62901, USA\\
\{Zhao.Kang, pchong, qcheng\}@siu.edu\\
%Palo Alto, California 94303\\
}
%\noindent Paper ID:
\maketitle
\begin{abstract}
Top-N recommender systems have been investigated widely both in industry and academia. However, the recommendation quality is far from satisfactory. In this paper, we propose a simple yet promising algorithm. We fill the user-item matrix based on a low-rank assumption and simultaneously keep the original information. To do that, a nonconvex rank relaxation rather than the nuclear norm is adopted to provide a better rank approximation and an efficient optimization strategy is designed. A comprehensive set of experiments on real datasets demonstrates that our method pushes the accuracy of Top-N recommendation to a new level.

%\begin{quote}
%AAAI creates proceedings, working notes, and technical reports directly from electronic source furnished by the authors. To ensure that all papers in the publication have a uniform appearance, authors must adhere to the following instructions. 
%\end{quote}
\end{abstract}

\section{Introduction}
The growth of online markets has made it increasingly difficult for people to find items which are interesting and useful to them. Top-N recommender systems have been widely adopted by the majority of e-commerce web sites to recommend size-$N$ ranked lists of items that best fit customers' personal tastes and special needs \cite{linden2003amazon}. It works by estimating a consumer's  response for new items, based on historical information, and suggesting to the consumer novel items for which the predicted response is high. In general, historical information can be obtained explicitly, for example, through ratings/reviews, or implicitly, from purchase history or access patterns \cite{desrosiers2011comprehensive}.

Over the past decade, a variety of approaches have been proposed for Top-N recommender systems \cite{ricci2011introduction}. They can be roughly divided into three categories: %\cite{adomavicius2005toward}
neighborhood-based collaborative filtering, model-based collaborative filtering, and ranking-based methods. The general principle of neighborhood-based methods is to identify the similarities among users/items \cite{deshpande2004item}. For example, item-based k-nearest-neighbor (ItemKNN) collaborative filtering methods first identify a set of similar items for each of the items that the consumer has purchased, and then recommend Top-N items based on those similar items. However, they suffer from low accuracy since they employ few item characteristics.

Model-based methods build a model and then generate recommendations. For instance, the widely studied matrix factorization (MF) methods employ the user-item similarities in their latent space to extract the user-item purchase patterns. Pure singular-value-decomposition-based (PureSVD) matrix factorization method \cite{cremonesi2010performance} characterizes users and items by the most principal singular vectors of the user-item matrix. A weighted regularized matrix factorization (WRMF) \cite{pan2008one,hu2008collaborative} method applies a weighting matrix to differentiate the contributions from observed purchase/rating activities and unobserved ones.% Moreover, Top-N recommendation has also been treated as a ranking problem. 

The third category of methods rely on ranking/retrieval criteria. Here, Top-N recommendation is treated as a ranking problem. A Bayesian personalized ranking (BPR) \cite{rendle2009bpr} criterion, which is the maximum posterior estimator from a Bayesian analysis, is used to measure the difference between the rankings of user-purchased items and the rest items. BPR can be combined with ItemKNN (BPRkNN) and MF method (BPRMF). One common drawback of these approaches lies in low recommendation quality.

Recently, a novel Top-N recommendation method SLIM \cite{ning2011slim} has been proposed. From user-item matrix $X$ of size $m\times n$, it first learns a sparse aggregation coefficient matrix $W\in\mathcal{R}_{+}^{n\times n}$ by encoding each item as a linear combination of all other items and solving an $l_1$-norm and $l_2$-norm regularized optimization problem. Each entry $w_{ij}$ describes the similarity between item $i$ and $j$. SLIM has obtained better recommendation accuracy than the other state-of-the-art methods. However, SLIM can only capture relations between items that are co-purchased/co-rated by at least one user, while an intrinsic characteristic of recommender systems is sparsity due to the fact that users typically rate only a small portion of the available items. 

To overcome the above limitation, LorSLIM \cite{cheng2014lorslim} has also imposed a low-rank constraint on $W$. It solves the following problem:
\begin{equation*}
\begin{split}
&\min_W \frac{1}{2}\|X-XW\|_F^2+\frac{\beta}{2}\|W\|_F^2+\lambda \|W\|_1+\gamma\|W\|_*    \\
&s.t.\quad W\ge 0, \quad diag(W)=0,   
\end{split}
\label{lorslim}
\end{equation*}
where $\|W\|_*$ is the nuclear norm of $W$, defined as the sum of its singular values. Low-rank structure is motivated by the fact that a few latent variables from $F$ that explain items' features in factor model $W\approx FF^T$ are of low rank. After obtaining $W$, the recommendation score for user $i$ about an un-purchased/-rated item $j$ is $\hat{x}_{ij}=\vec{x}_i^T\vec{w}_j$, where $x_{ij}=0$, $\vec{x}_i^T$ is the $i$-th row of $X$, and $\vec{w}_j$ is the $j$-th column of $W$. Thus $\hat{X}=XW$. %Then we just sort $i$'s non-purchased/-rated items based on their scores in decreasing order and recommend the top-N items. 
LorSLIM can model the relations between items even on sparse datasets and thus improves the performance. 

To further boost the accuracy of Top-N recommender systems, we first fill the missing ratings by solving a nonconvex optimization problem, based on the assumption that the user' ratings are affected by only a few factors and the resulting rating matrix should be of low rank \cite{lee2014local}, and then make the Top-N recommendation. This is different from previous approaches: Middle values of the rating ranges, or the average user or item ratings are commonly utilized to fill out the missing ratings \cite{breese1998empirical,deshpande2004item}; a more reliable approach utilizes content information \cite{melville2002content,li2004combining,degemmis2007content}, for example, the missing ratings are provided by autonomous agents called filterbots \cite{good1999combining}, which rate items based on some specific characteristics of their content; a low rank matrix factorization approach seeks to approximate $X$ by a multiplication of low rank factors \cite{yu2009fast}. Experimental results demonstrate the superior recommendation quality of our approach.

Due to the inherent computational complexity of rank problems, the non-convex rank function is often relaxed to its convex surrogate, i.e. the nuclear norm \cite{candes2009exact,recht2008necessary}. However, this substitution is not always valid and can lead to a biased solution \cite{shi2011limitations,kangcikm2015robust}. Matrix completion with nuclear norm regularization can be significantly hurt when entries of the matrix are sampled non-uniformly \cite{srebro2010collaborative}. Nonconvex rank approximation has received significant attention \cite{zhong2015nonconvex,kangICDM}. Thus we use log-determinant ($logdet$) function to approximate the rank function and design an effective optimization algorithm. 

\section{Problem Formulation}
The incomplete user-item purchases/ratings matrix is denoted as $M$ of size $m \times n$. $M_{ij}$ is 1 or a positive value if user $i$ has ever purchased/rated item $j$; otherwise it is 0. Our goal is to reconstruct a full matrix $X$, which is supposed to be low-rank.  
Consider the following matrix completion problem:
\begin{equation}
\begin{split}
\min_X logdet ((X^TX)^{1/2}+I)   \\
s.t.\quad X_{ij}=M_{ij},\quad (i,j)\in \Omega,  
\end{split}
\label{originalprob}
\end{equation}
where $\Omega$ is the set of locations corresponding to the observed entries and $I\in \mathcal{R}^{n\times n}$ is an identity matrix. It is easy to show that $logdet((X^TX)^{1/2}+I)\leq\|X\|_*$, i.e., $logdet$ is a tighter rank approximation function than the nuclear norm. $logdet$ also helps mitigate another inherent disadvantage of the nuclear norm, i.e., the imbalanced penalization of different singular values \cite{kang2015robust}. Previously $logdet(X+\delta I)$ was suggested to restrict the rank of positive semidefinite matrix $X$ \cite{fazel2003log}, which is not guaranteed for more general $X$, and also $\delta$ is required to be small, which leads to significantly biased approximation for small singular values. Compared to some other nonconvex relaxations in the literature \cite{lu2014generalized}, our formulation enjoys the simplicity and efficacy. 

\section{Methodology}
 Considering that the user-item matrix is often nonnegative, we add nonnegative constraint $X\ge 0$, i.e., element-wise positivity, for easy interpretation of the representation. Let $\mathcal{P}_\Omega$ be the orthogonal projection operator onto the span of matrices vanishing outside of $\Omega$ (i.e., $\Omega^c$) so that 
\begin{eqnarray*}
(\mathcal{P}_\Omega(X))_{ij}=\left\{
\begin{array}{ll} X_{ij}, & \mbox{if $X_{ij}\in\Omega$};\\
0, & \mbox{if $X_{ij}\in\Omega^c$.}
\end{array}\right.
\end{eqnarray*} 
Problem (\ref{originalprob}) can be reformulated as 
\begin{equation}
\begin{split}
\min_X logdet ((X^TX)^{1/2}+I)+l_{\mathcal{R}_+}(X)   \\
s.t.\quad \mathcal{P}_\Omega(X)=\mathcal{P}_\Omega(M),  
\end{split}
%\label{thirdprob}
\end{equation}
where $l_{\mathcal{R}_+}$ is the indicator function, defined element-wisely as
\begin{eqnarray*}
\label{error21}
l_{\mathcal{R}_+}(x)=\left\{
\begin{array}{ll} 0, & \mbox{if $x\geq 0$};\\
+\infty, & \mbox{otherwise.}
\end{array}\right.
\end{eqnarray*}
Notice that this is a nonconvex optimization problem, which is not easy to solve in general. Here we develop an effective optimization strategy based on augmented Lagrangian
multiplier (ALM) method. By introducing an auxiliary variable $Y$, it has the following equivalent form
\begin{equation}
\label{secondprob}
\begin{split}
&\min_{X, Y} logdet ((X^TX)^{1/2}+I)+l_{\mathcal{R}_+}(Y)   \\
&s.t.\quad \mathcal{P}_\Omega(X)=\mathcal{P}_\Omega(M),\quad X=Y,  
\end{split}
%\label{thirdprob}
\end{equation}
which has an augmented Lagrangian function of the form
\begin{equation}
\begin{split}
\mathcal{L}(X,Y,Z)= logdet ((X^TX)^{1/2}+I)+l_{\mathcal{R}_+}(Y)+\\
\frac{\mu}{2}\|X-Y+\frac{Z}{\mu}\|_F^2
\quad s.t.\quad \mathcal{P}_\Omega(X)=\mathcal{P}_\Omega(M),  
\end{split}
\end{equation}
where $Z$ is a Lagrange multiplier and $\mu>0$ is a penalty parameter.

 %Considering the user-item matrix is often nonnegative, we add nonnegative constraint $X\ge 0$ for easy interpretation of the representation, equation (\ref{secondprob}) can be reformulated as 
%\begin{equation}
%\begin{split}
%\min_X=logdet ((X^TX)^{1/2}+I)+\frac{\mu}{2}\|X-Y+\frac{Z_1}{\mu}\|_F^2+l_{\mathcal{R}_+}(X)   \\
%s.t.\quad X_{ij}=M_{ij},\quad (i,j)\in \Omega,  
%\end{split}
%%\label{thirdprob}
%\end{equation}

 %By introducing another variables $W$, we obtain the following formulation
%\begin{equation}
%\begin{split}
%&\mathcal{L}(X,Y,W,Z1,Z2)= \\
%&logdet ((X^TX)^{1/2}+I)+\frac{\mu}{2}\|X-Y+\frac{Z_1}{\mu}\|_F^2\\
%&+l_{\mathcal{R}_+}(W)+\frac{\mu}{2}\|X-W+\frac{Z_2}{\mu}\|_F^2   \\
%&s.t.\quad X_{ij}=M_{ij},\quad (i,j)\in \Omega,  
%\end{split}
%\label{thirdprob}
%\end{equation}

Then, we can apply the alternating minimization idea to update $X$, $Y$, i.e., updating one of the two variables with the other fixed.

Given the current point $X^t$, $Y^t$,  $Z^t$, we update $X^{t+1}$ by solving 
\begin{equation}
\begin{split}
X^{t+1}&=\argmin_{X} logdet ((X^TX)^{1/2}+I)+\\
&\frac{\mu^t}{2}\|X-Y^t+\frac{Z^t}{\mu^t}\|_F^2
%\quad s.t.\quad\mathcal{P}_\Omega(X)=\mathcal{P}_\Omega(M).  
\end{split}
\label{noncvx}
\end{equation}
This can be converted to scalar minimization problems due to the following theorem \cite{kang2015logdet}.  
\begin{theorem}
\label{thm}
If $F(Z)$ is a unitarily invariant function and SVD of $A$ is $A = U \Sigma_A V^T$, then the optimal solution to the following problem 
\begin{equation}
\min_{Z}F(Z)+\frac{\beta}{2}\|Z-A\|_F^{2}
\label{eq:Zobj}
\end{equation}
 is $Z^*$ with SVD $U\Sigma_Z^* V^T$, where $\Sigma_Z^* = diag\left(\sigma^*\right)$; moreover, $F(Z) = f \circ \sigma(Z)$, where $\sigma(Z)$ is the vector of nonincreasing  singular values of $Z$, % with $f$ being an absolutely symmetric function\footnote{A function $f(\cdot)$ is absolutely symmetric if $f(x)$ is invariant under arbitrary permutations and sign changes of the components of $x$ \cite{lewis1995convex}.}, 
 then $\sigma^*$ is obtained by using the Moreau-Yosida proximity operator
$\sigma^* = prox_{f, \beta} (\sigma_{A})$, where $\sigma_A := diag(\Sigma_A)$, and 
\begin{equation}
\label{scalar}
prox_{f, \beta} (\sigma_A) := \argmin_{\sigma\ge 0} f(\sigma) + \frac{\beta}{2}\|\sigma - \sigma_A\|_2^2.
\end{equation}
\end{theorem}
According to the first-order optimality condition, the gradient of the objective function of  (\ref{scalar}) with respect to each singular value should vanish.  
For $logdet$ function, we have 
\begin{equation}
\label{svdf}
\frac{1}{1+\sigma_i}+\beta (\sigma_{i}-\sigma_{i,A})=0\hspace{0.1cm} s.t. \hspace{0.1cm}\sigma_i \ge  0.%, \hspace{.1cm} for\hspace{0.1cm} i=1, ..., n.\\
\end{equation} 
The above equation is quadratic and gives two roots. If $\sigma_{i,A}=0$, the minimizer $\sigma_i^*$ will be 0; otherwise, there exists a unique minimizer. Finally, we obtain the update of $X$ variable with
\begin{equation}
X^{t+1}=U diag(\sigma^{*}) V^T.
\end{equation}
Then we fix the values at the observed entries and obtain
%Since (\ref{thirdprob}) is quadratic  in $Y$, its minimization is direct and produces the updating formula as
\begin{equation}
\label{solveJ}
X^{t+1}=\mathcal{P}_{\Omega^c}(X^{t+1})+\mathcal{P}_\Omega(M).
\end{equation}

To update $Y$, we need to solve
\begin{equation}
\min_Y \quad l_{\mathcal{R}_+}(Y)+\frac{\mu^t}{2}\|X^{t+1}-Y+\frac{Z^t}{\mu^t}\|_F^2,
\end{equation}
which yields the updating rule
\begin{equation}
\label{solveY}
Y^{t+1}= \textrm{max}(X^{t+1}+Z^t/\mu^t,0).
\end{equation}
Here $\max(\cdot)$ is an element-wise operator. The complete procedure is outlined in Algorithm 1.
\begin{algorithm}[tb]
\small
   \caption{Solve (\ref{secondprob})}
   \label{alg:rankminimization}
  {\bfseries Input:} Original imcomplete data matrix $M_\Omega\in \mathbf{\mathcal{R}}^{m\times n}$, parameters  $\mu^0>0$, $\gamma>1$.\\
{\bfseries Initialize:} $Y=\mathcal{P}_\Omega(M)$, $Z=0$.\\
  {\bfseries REPEAT}
\begin{algorithmic}[1]
   \STATE Obtain $X$ through (\ref{solveJ}).
   \STATE Update $Y$ as (\ref{solveY}).
 %  \STATE Solve $W$ by (\ref{solveW}).
\STATE Update the Lagrangian multipliers $Z$ by
\begin{align*}
Z^{t+1}&=Z^{t}+\mu^t(X^{t+1}-Y^{t+1}).
%Z_2^{t+1}&=Z_2^{t}+\mu^t(X^{t+1}-W^{t+1}).
\end{align*}
\STATE Update the parameter $\mu^t$ by $\mu^{t+1}=\gamma\mu^t$.
\end{algorithmic}
\textbf{ UNTIL} {stopping criterion is met.}
\end{algorithm}

To use the estimated matrix $\hat{X}$ to make recommendation for user $i$, we just sort $i$'s non-purchased/-rated items based on their scores in decreasing order and recommend the Top-N items. 

\section{Experimental Evaluation}
\subsection{Datasets}
\begin{table}[ht]
\caption{The datasets used in evaluation}
\label{tab:data}
\begin{center}
\tiny
%\begin{sc}
\resizebox{.45\textwidth}{!}{
\begin{tabular}{llllllll}
\multicolumn{1}{c}{dataset}  &\multicolumn{1}{c}{\#users} &\multicolumn{1}{c}{ \#items}  &\multicolumn{1}{c}{\#trns} &\multicolumn{1}{c}{rsize}  &\multicolumn{1}{c}{csize}&\multicolumn{1}{c}{ density}&\multicolumn{1}{c}{ratings}\\
\hline\hline \\
Delicious&1300&4516&17550&13.50&3.89&0.29\%&-\\
 lastfm&8813&6038&332486&37.7&55.07&0.62\%&- \\
BX&4186&7733&182057&43.49&23.54&0.56\%&- \\
\hline \\
ML100K &943&1682&100000&106.04&59.45&6.30\%&1-10\\
Netflix&6769&7026&116537&17.21&16.59&0.24\%&1-5 \\
Yahoo&7635&5252&212772&27.87&40.51&0.53\% &1-5 \\
\hline
\end{tabular}}
   \begin{tablenotes}
      \tiny
      \item The ``\#users", ``\#items", ``\#trns" columns show the number of users, number of items and number of transactions, respectively, in each dataset. The ``rsize" and ``csize" columns are the average number of ratings for each user and on each item (i.e., row density and column density of the user-item matrix), respectively, in each dataset. Column corresponding to ``density" shows the density of each dataset (i.e., density=\#trns/(\#users$\times$\#items)). The ``ratings" column is the rating range of each dataset with granularity 1. 
    \end{tablenotes}
%\end{sc}
%\end{small}
\end{center}
\end{table}
We evaluate the performance of our method on six different real datasets whose characteristics are summarized in Table \ref{tab:data}. These datasets are from different sources and at different sparsity levels. They can be broadly categorized into two classes.

The first class includes Delicious, lastfm and BX. These three datasets have only implicit feedback (e.g., listening history), i.e., they are represented by binary matrices. In particular, Delicious was derived from the bookmarking and tagging information from a set of 2$K$ users from Delicious social bookmarking system\footnote{http://www.delicious.com} such that each URL was bookmarked by at least 3 users. Lastfm corresponds to music artist listening information which was obtained from the last.fm online music system\footnote{ http://www.last.fm }, in which each music artist was listened to by at least 10 users and each user listened to at least 5 artists. BX is a subset from the Book-Crossing dataset\footnote{http://www.informatik.uni-freiburg.de/~cziegler/BX/} such that only implicit interactions were contained and each book was read by at least 10 users. 

The second class contains ML100K, Netflix and Yahoo. All these datasets contain multi-value ratings. Specifically, the ML100K dataset corresponds to movie ratings and is a subset of the MovieLens research project\footnote{http://grouplens.org/datasets/movielens/}. The Netflix is a subset of data extracted from Netflix Prize dataset\footnote{http://www.netflixprize.com/} and each user rated at least 10 movies. The Yahoo dataset is a subset obtained from Yahoo!Movies user ratings\footnote{http://webscope.sandbox.yahoo.com/catalog.php?datatype=r}. In this dataset, each user rated at least 5 movies and each movie was rated by at least 3 users.

\begin{table*}[ht]
\begin{center}
\begin{threeparttable}
%
\caption{Comparison of Top-N recommendation algorithms}
\label{tab:comp}
\tiny
%\begin{large}
%\begin{sc}
%\resizebox{.48\textwidth}{!}{
%\centering
\begin{tabular}{llllllllllllll}
\hline
\multirow{2}{*}{method} &
\multicolumn{6}{c}{Delicious} &
\multicolumn{1}{c}{}&
\multicolumn{6}{c}{lastfm} \\
%\multicolumn{2}{c|}{\multirow{2}{*}{Multi-Row and Col}} \\
\cline{2-7} \cline{9-14} 
  & \multicolumn{4}{c}{params} &\multicolumn{1}{c}{HR}  & \multicolumn{1}{c}{ARHR} &\multicolumn{1}{c}{}&\multicolumn{4}{c}{params} &\multicolumn{1}{c}{HR}  & \multicolumn{1}{c}{ARHR} \\ 
\hline
ItemKNN&300&-&-&-&0.300&0.179&&100&-&-&-&0.125&0.075\\
PureSVD&1000&10&-&-&0.285&0.172&&200&10&-&-&0.134&0.078\\
WRMF&250&5&-&-&0.330&0.198&&100&3&-&-&0.138&0.078\\
BPRKNN&1e-4&0.01&-&-&0.326&0.187&&1e-4&0.01&-&-&0.145&0.083\\
BPRMF&300&0.1&-&-&0.335&0.183&&100&0.1&-&-&0.129&0.073\\
SLIM&10&1&-&-&0.343&0.213&&5&0.5&-&-&0.141&0.082\\
LorSLIM&10&1&3&3&0.360&0.227&&5&1&3&3&0.187&0.105\\
Our&250&4&-&-&\bf{0.382}&\bf{0.241}&&0.03&1.5&-&-&\bf{0.206}&\bf{0.113}\\
\hline\hline
\multirow{2}{*}{method} &
\multicolumn{6}{c}{BX} &
\multicolumn{1}{c}{}&
\multicolumn{6}{c}{ML100K} \\
%\multicolumn{2}{c|}{\multirow{2}{*}{Multi-Row and Col}} \\
\cline{2-7} \cline{9-14} 
  & \multicolumn{4}{c}{params} &\multicolumn{1}{c}{HR}  & \multicolumn{1}{c}{ARHR} &\multicolumn{1}{c}{}&\multicolumn{4}{c}{params} &\multicolumn{1}{c}{HR}  & \multicolumn{1}{c}{ARHR} \\ 
\hline
ItemKNN&400&-&-&-&0.045&0.026&&10&-&-&-&0.287&0.124\\
PureSVD&3000&10&-&-&0.043&0.023&&100&10&-&-&0.324&0.132\\
WRMF&400&5&-&-&0.047&0.027&&50&1&-&-&0.327&0.133\\
BPRKNN&1e-3&0.01&-&-&0.047&0.028&&2e-4&1e-4&-&-&0.359&0.150\\
BPRMF&400&0.1&-&-&0.048&0.027&&200&0.1&-&-&0.330&0.135\\
SLIM&20&0.5&-&-&0.050&0.029&&2&2&-&-&0.343&0.147\\
LorSLIM&50&0.5&2&3&0.052&0.031&&10&8&5&3&0.397&0.207\\
Our&1.2e-3&1.3&-&-&\bf{0.065}&\bf{0.043}&&6e-3&2.5&-&-&\bf{0.428}&\bf{0.215}\\
\hline\hline
\multirow{2}{*}{method} &
\multicolumn{6}{c}{Netflix} &
\multicolumn{1}{c}{}&
\multicolumn{6}{c}{Yahoo} \\
\cline{2-7} \cline{9-14} 
  & \multicolumn{4}{c}{params} &\multicolumn{1}{c}{HR}  & \multicolumn{1}{c}{ARHR} &\multicolumn{1}{c}{}&\multicolumn{4}{c}{params} &\multicolumn{1}{c}{HR}  & \multicolumn{1}{c}{ARHR} \\ 
\hline
ItemKNN&200&-&-&-&0.156&0.085&&300&-&-&-&0.318&0.185\\
PureSVD&500&10&-&-&0.158&0.089&&2000&10&-&-&0.210&0.118\\
WRMF&300&5&-&-&0.172&0.095&&100&4&-&-&0.250&0.128\\
BPRKNN&2e-3&0.01&-&-&0.165&0.090&&0.02&1e-3&-&-&0.310&0.182\\
BPRMF&300&0.1&-&-&0.140&0.072&&300&0.1&-&-&0.308&0.180\\
SLIM&5&1.0&-&-&0.173&0.098&&10&1&-&-&0.320&0.187\\
LorSLIM&10&3&5&3&0.196&0.111&&10&1&2&3&0.334&0.191\\
Our&0.015&1.2&-&-&\bf{0.226}&\bf{0.127}&&5e-3&1.1&-&&\bf{0.367}&\bf{0.218}\\
\hline
\end{tabular}%}
%

   \begin{tablenotes}
      

      \item The parameters for each method are as follows: ItemKNN: the number of neighbors $k$; PureSVD: the number of singular values and the number of iterations during SVD; WRMF: the dimension of the latent space and the weight on purchases; BPRKNN: the learning rate and regularization parameter $\lambda$; BPRMF: the dimension of the latent space and learning rate; SLIM: the $l_2$-norm regularization parameter $\beta$ and the $l_1$-norm regularization parameter
$\lambda$; LorSLIM: the $l_2$-norm regularization parameter $\beta$, the $l_1$-norm regularization parameter $\lambda$, the nuclear norm regularization parameter $z$ and the auxiliary parameter $\rho$. Our: auxiliary parameters $\mu^0$ and $\gamma$. N in this table is 10. Bold numbers are the best performance in terms of HR and ARHR for each dataset. 

 \end{tablenotes}
\end{threeparttable}
%\end{sc}
%\end{large}
\end{center}
\end{table*}
\subsection{Evaluation Methodology}
We employ 5-fold Cross-Validation to demonstrate the efficacy of our proposed approach. For each run, each of the datasets is split into training and test sets by randomly selecting one of the non-zero entries for each user to be part of the test set\footnote{We use the same data as in \cite{cheng2014lorslim}, with partitioned datasets kindly provided by Yao Cheng.}. The training set is used to train a model, then a size-N ranked list of recommended items for each user is generated. The evaluation of the model is conducted by comparing the recommendation list of each user and the item of that user in the test set. For the following results reported in this paper, $N$ is equal to 10.  

Top-N recommendation is more like a ranking problem rather than a prediction task. The recommendation quality is measured by the hit-rate (HR) and the average reciprocal hit-rank (ARHR) \cite{deshpande2004item}. They directly measure the performance of the model on the ground truth data, i.e., what users have already provided feedback for. As pointed out in \cite{ning2011slim}, they are the most direct and meaningful measures in Top-N recommendation scenarios. HR is defined as
\begin{equation}
HR=\frac{\#\textrm{hits}}{\#\textrm{users}},
\end{equation}
where \#hits is the number of users whose item in the test set is recommended (i.e., hit) in the size-N recommendation list, and \#users is the total number of users. An HR value of 1.0 indicates that the algorithm is able to always recommend the hidden item, whereas an HR value of 0.0 denotes that the algorithm is not able to recommend any of the hidden items. 

A drawback of HR is that it treats all hits equally regardless of where they appear in the Top-N list. ARHR addresses it by rewarding each hit based on where it occurs in the Top-N list, which is defined as follows:
\begin{equation}
ARHR=\frac{1}{\#\textrm{users}}\sum_{i=1}^{\#\textrm{hits}}\frac{1}{p_i},
\end{equation}
where $p_i$ is the position of the test item in the ranked Top-N list for the $i$-th hit. That is, hits that occur earlier in the ranked list are weighted higher than those occur later, and thus ARHR measures how strongly an item is recommended. The highest value of ARHR is equal to the hit-rate and occurs when all the hits occur in the first position, whereas the lowest value is equal to HR/N when all the hits occur in the last position of the list.

\subsection{Comparison Algorithms}
%\vfill\eject
We compare the performance of the proposed method\footnote{The implementation of our method is available at: https://github.com/sckangz/recom\_mc.} with seven other state-of-the-art Top-N recommendation algorithms, including the item neighborhood-based collaborative filtering method ItemKNN \cite{deshpande2004item}, two MF-based methods PureSVD \cite{cremonesi2010performance} and WRMF \cite{hu2008collaborative}, two ranking/retrieval criteria based methods BPRMF and BPRKNN \cite{rendle2009bpr}, SLIM \cite{ning2011slim}, and LorSLIM \cite{cheng2014lorslim}.
%\vfill\eject
\begin{figure*}[!ht]
\centering
%\resizebox{\textwidth}{!}{
\subfloat[Delicious]{\includegraphics[width=.4\textwidth,height=4.5cm]{a.pdf}}
\subfloat[lastfm]{\includegraphics[width=.4\textwidth,height=4.5cm]{b.pdf}}\\
\subfloat[BX]{\includegraphics[width=.4\textwidth,height=4.5cm]{c.pdf}}
\subfloat[ML100K]{\includegraphics[width=.4\textwidth,height=4.5cm]{d.pdf}}\\
\subfloat[Netflix]{\includegraphics[width=.4\textwidth,height=4.5cm]{e.pdf}}
\subfloat[Yahoo]{\includegraphics[width=.4\textwidth,height=4.5cm]{f.pdf}}
%}
\caption{ Performance for Different Values of $N$.}
\label{fig:differentN}
%\vspace{-.4cm}
\end{figure*}
%\vfill\eject
\section{Experimental Results}
\subsection{Top-N recommendation performance}
We report the comparison results with other competing methods in Table \ref{tab:comp}.
The results show that our algorithm performs better than all the other methods across all the datasets \footnote{A bug is found, so the result in published version is updated. We apologize for any inconvenience caused.}. Specifically, in terms of HR, our method outperforms ItemKNN, PureSVD, WRMF, BPRKNN, BPRMF, SLIM and LorSLIM by 41\%, 48.14\%, 35.40\%, 28.69\%, 36.57\%, 26.26\%,  12.38\% on average, respectively, over all the six datasets; with respect to ARHR, ItemKNN, PureSVD, WRMF, BPRKNN, BPRMF, SLIM and LorSLIM are improved by 48.55\%, 60.38\%, 48.58\%, 37.14\%, 49.47\%, 31.94\%, 14.15\% on average, respectively. %Moreover, the HR improvements achieved by our method against the next best performing scheme (i.e., LorSLIM) are quite substantial; the enhancements are 0.092, 0.28, 0.08, 0.181, 0.13, 0.24, respectively. 

Among the seven state-of-the-art algorithms, LorSLIM is substantially better than the others. Moreover, SLIM is a little better than others except on lastfm and ML100K among the rest six methods. Then BPRKNN performs best among the remaining five methods on average.  Among the three MF-based models, BPRMF and WRMF have similar performance on most datasets and are much better than PureSVD on all datasets except on lastfm and ML100K.
\subsection{Recommendation for Different Top-N}

Figure \ref{fig:differentN} shows the performance achieved by the various methods for different values of $N$ for all six datasets. It demonstrates that the proposed method outperforms other algorithms in all scenarios. What is more, it is evident that the difference in performance between our approach and the other methods are consistently significant. It is interesting to note that LorSLIM, the second most competitive method, may be worse than some of the rest methods when $N$ is large.  
\subsection{Matrix Reconstruction}
We compare our method with LorSLIM by looking at how they reconstruct the user-item matrix. We take ML100K as an example, whose density is 6.30\% and the mean for those non-zero elements is 3.53. The reconstructed matrix from LorSLIM $\hat{X}=XW$ has a density of 13.61\%, whose non-zero values have a mean of 0.046. For those 6.30\% non-zero entries in $X$, $\hat{X}$ recovers 70.68\% of them and their mean value is 0.0665. This demonstrates that lots of information is lost. On the contrary, our approach fully preserves the original information thanks to the constraint condition in our model. Our method recovers all zero values with a mean of 0.554, which is much higher than 0.046. This suggests that our method recovers $X$ better than LorSLIM. This may explain the superior performance of our method.

\subsection{Parameter Tunning}
\begin{figure}[htbp]
\begin{center}
%\resizebox{.4\textwidth}{!}{
\includegraphics[width=.4\textwidth]{para.pdf}
%\subfloat[HR]{\includegraphics[width=.4\textwidth]{para.pdf}}
%\subfloat[ARHR ]{\includegraphics[width=.4\textwidth]{arhr.pdf}}
%}
\caption{ Influence of $\mu^0$ and $\gamma$ on HR for Delicious dataset.}
\label{fig:para}
\end{center}
\end{figure}
Although our model is parameter-free, we introduce the auxiliary parameter $\mu$ during the optimization. In alternating direction method of multipliers (ADMM) \cite{yang2013linearized}, $\mu$ is fixed and it is not easy to choose an optimal value to balance the computational cost. Thus, a dynamical $\mu$, increasing at a rate of $\gamma$, is preferred in real applications. $\gamma>1$ controls the convergence speed. The larger $\gamma$ is, the fewer iterations are to obtain the convergence, but meanwhile we may lose some precision. We show the effects of different initializations $\mu^0$ and $\gamma$ on HR on dataset Delicious in Figure \ref{fig:para}. It illustrates that our experimental results are not sensitive to them, which is reasonable since they are auxiliary parameters controlling mainly the convergence speed. In contrast, LorSLIM needs to tune four parameters, which are time consuming and not easy to operate. 
\subsection{Efficiency Analysis}

\begin{figure}[htbp]
\begin{center}
\includegraphics[width=.4\textwidth]{time.pdf}
\caption{ Influence of $\gamma$ on time.}
\label{fig:time}
\end{center}
\end{figure}
The time complexity of our algorithm is mainly from SVD. Exact SVD of a $m\times n$ matrix has a time complexity of $O(\min\{mn^2,m^2n\}$), in this paper we seek a low-rank matrix and thus only need a few principal singular vectors/values. Packages like PROPACK \cite{larsen2004propack} can compute a rank $k$ SVD with a cost of $O(min\{m^2k,n^2k\})$, which can be advantageous when $k\ll m,n$. In fact, our algorithm is much faster than LorSLIM. Among the six datasets, ML100K and lastfm datasets have the smallest and largest sizes, respectively. Our method needs 9s and 5080s, respectively, on these two datasets, while LorSLIM takes 617s and 32974s. The time is measured on the same machine with an Intel Xeon E3-1240 3.40GHz CPU that has 4 cores and 8GB memory, running Ubuntu and Matlab (R2014a). Furthermore, without losing too much accuracy, $\gamma$ can speed up our algorithm considerably. This is verified by Figure \ref{fig:time}, which shows the computational time of our method on Delicious with varying $\gamma$. 

\section{Conclusion}
In this paper, we present a matrix completion based method for the Top-N recommendation problem. The proposed method recovers the user-item matrix by solving a rank minimization problem. To better approximate the rank, a nonconvex function is applied. We conduct a comprehensive set of experiments on multiple datasets and compare its performance against that of other state-of-the-art Top-N recommendation algorithms. It turns out that our algorithm generates high quality recommendations, which improves the performance of the rest of methods considerably. This makes our approach usable in real-world scenarios.
\section{Acknowledgements}
This work is supported by US National Science Foundation Grants IIS 1218712. Q. Cheng is the corresponding author.  
\vfill\eject
%Making recommendations in the presence of sparsity is challenging to collaborative filtering methods \cite{good1999combining}. A common solution is to fill the missing ratings with middle value or the average of rating.
%\noindent Congratulations on having a paper selected for inclusion in an AAAI Press proceedings or technical report! This document details the requirements necessary to get your accepted paper published using \LaTeX{}. If you are using Microsoft Word, instructions are provided in a different document. If you want to use some other formatting software, you must obtain permission from AAAI Press first. 
%
%The instructions herein are provided as a general guide for experienced \LaTeX{} users who would like to use that software to format their paper for an AAAI Press publication or report. If you are not an experienced \LaTeX{} user, do not use it to format your paper. AAAI cannot provide you with support and the accompanying style files are \textbf{not} guaranteed to work. If the results you obtain are not in accordance with the specifications you received, you must correct your source file to achieve the correct result. 
%
%These instructions are generic. Consequently, they do not include specific dates, page charges, and so forth. Please consult your specific written conference instructions for details regarding your submission. Please review the entire document for specific instructions that might apply to your particular situation. All authors must comply with the following:
%
%\begin{itemize}
%\item You must use the latest AAAI Press \LaTeX{} macro.
%\item Download the author kit.
%\item Complete, sign, and return by the deadline the AAAI copyright form (proceedings authors) or distribution license (technical report authors).
%\item Read and format your paper source and PDF according to the formatting instructions for authors.
%\item Submit your electronic files and abstract using our electronic submission form \textbf{on time.}
%\item Submit your copyright form, and any required page or formatting charges to AAAI Press so that they are received by the deadline.
%\item Check every page of your paper before submitting it.
%\end{itemize}

%\section{Copyright}
%All papers submitted for publication by AAAI Press must be accompanied by a valid signed copyright form or, in the case of technical reports, by a valid signed permission to distribute form. There are no exceptions to this requirement. You must send us the original version of this form. However, to meet the deadline, you may fax (1-650-321-4457) or scan and e-mail the form (pubforms15@aaai.org) to AAAI by the submission deadline, and then mail the original via postal mail to the AAAI office. \textbf{If you fail to send in a signed copyright or permission form, your paper will not be published.} You will find PDF versions of the AAAI copyright and permission to distribute forms in the author kit.
%
%\section{Formatting Requirements in Brief}
%We need source and PDF files that can be used in a variety of ways and can be output on a variety of devices. AAAI imposes some requirements on your source and PDF files that must be followed. Most of these requirements are based on our efforts to standardize conference manuscript properties and layout. These requirements are as follows, and all papers submitted to AAAI for publication must comply:

%\begin{itemize}
%\item Your .tex file must compile in PDF\LaTeX{} --- \textbf{ no .ps or .eps figure files.}
%\item All fonts must be embedded in the PDF file --- \textbf{ this includes your figures.}
%\item Modifications to the style sheet (or your document) in an effort to avoid extra page charges are NOT allowed.
%\item No type 3 fonts may be used (even in illustrations).
%\item Your title must follow US capitalization rules.
%\item \LaTeX{} documents must use the Times or Nimbus font package (do not use Computer Modern for the text of your paper).
%\item No \LaTeX{} 209 documents may be used or submitted.
%\item Fonts that require non-English language support (CID and Identity-H) must be converted to outlines or removed from the document (even if they are in a graphics file embedded in the document). 
%\item Two-column format in AAAI style is required for all papers.
%\item The paper size for final submission must be US letter. No exceptions.
%\item The source file must exactly match the PDF.
%\item The document margins must be as specified in the formatting instructions.
%\item The number of pages and the file size must be as specified for your event.
%\item No document may be password protected.
%\item Neither the PDFs nor the source may contain any embedded links or bookmarks.
%\item Your source and PDF must not have any page numbers, footers, or headers.
%\item Your PDF must be compatible with Acrobat 5 or higher.
%\item Your \LaTeX{} source file (excluding references) must consist of a \textbf{single} file (use of the ``input" command is not allowed.
%\item Your graphics must be sized appropriately outside of \LaTeX{} (do not use the ``clip" command) .
%\end{itemize}
%
%If you do not follow the above requirements, it is likely that we will be unable to publish your paper.
%
%\section{What Files to Submit}
%You must submit the following items to ensure that your paper is published:
%\begin{itemize}
%\item A fully-compliant PDF file.
%\item Your  \LaTeX{}  source file submitted as a \textbf{single} .tex file (do not use the ``input" command to include sections of your paper --- every section must be in the single source file). The only exception is the bibliography, which you may include separately. Your source must compile on our system, which includes the standard \LaTeX{} support files.
%\item All your graphics files.
%\item The \LaTeX{}-generated files (e.g. .aux and .bib file, etc.) for your compiled source.
%\item All the nonstandard style files (ones not commonly found in standard \LaTeX{} installations) used in your document (including, for example, old algorithm style files). If in doubt, include it.
%\end{itemize}
%
%Your \LaTeX{} source will be reviewed and recompiled on our system (if it does not compile, you may incur late fees).   \textbf{Do not submit your source in multiple text files.} Your single \LaTeX{} source file must include all your text, your bibliography (formatted using aaai.bst), and any custom macros. Accompanying this source file, you must also supply any nonstandard (or older) referenced style files and all your referenced graphics files. 
%
%Your files should work without any supporting files (other than the program itself) on any computer with a standard \LaTeX{} distribution. Place your PDF and source files in a single tar, zipped, gzipped, stuffed, or compressed archive. Name your source file with your last (family) name.
%
%\textbf{Do not send files that are not actually used in the paper.} We don't want you to send us any files not needed for compiling your paper, including, for example, this instructions file, unused graphics files, and so forth.  A shell script (created by an AAAI member --- it might not work without modification on your system) that might help you create the \LaTeX{} source package is included in the Author Kit.
%
%\section{Using \LaTeX{} to Format Your Paper}
%
%The latest version of the AAAI style file is available on AAAI's website. Download this file and place it in a file named ``aaai.sty" in the \TeX\ search path. Placing it in the same directory as the paper should also work. You must download the latest version of the complete author kit so that you will have the latest instruction set.
%
%\subsection{Document Preamble}
%
%In the \LaTeX{} source for your paper, you \textbf{must} place the following lines as shown in the example in this subsection. This command set-up is for three authors. Add or subtract author and address lines as necessary, and uncomment the portions that apply to you. In most instances, this is all you need to do to format your paper in the Times font. The helvet package will cause Helvetica to be used for sans serif, and the courier package will cause Courier to be used for the typewriter font. These files are part of the PSNFSS2e package, which is freely available from many Internet sites (and is often part of a standard installation).
%
%Leave the setcounter for section number depth commented out and set at 0 unless you want to add section numbers to your paper. If you do add section numbers, you must uncomment this line and change the number to 1 (for section numbers), or 2 (for section and subsection numbers). The style file will not work properly with numbering of subsubsections, so do not use a number higher than 2.
%
%
%\begin{quote}
%\begin{small}
%\textbackslash documentclass[letterpaper]{article}\\
%\% \textit{Required Packages}\\
%\textbackslash usepackage\{aaai\}\\
%\textbackslash usepackage\{times\}\\
%\textbackslash usepackage\{helvet\}\\
%\textbackslash usepackage\{courier\}\\
%\textbackslash setlength\{\textbackslash pdfpagewidth\}\{8.5in\}
%\textbackslash setlength\{\textbackslash pdfpageheight\}\{11in\}\\
%\%\%\%\%\%\%\%\%\%\%\\
%\% \textit{PDFINFO for PDF\LaTeX{}}\\
%\% Uncomment and complete the following for metadata (your paper must compile with PDF\LaTeX{})\\
%\textbackslash pdfinfo\{\\
%/Title (Input Your Paper Title Here)\\
%/Author (John Doe, Jane Doe)\\
%/Keywords (Input your paper's keywords in this optional area)\\
%\}\\
%\%\%\%\%\%\%\%\%\%\%\\
%\% \textit{Section Numbers}\\
%\% Uncomment if you want to use section numbers\\
%\% and change the 0 to a 1 or 2\\
%\% \textbackslash setcounter\{secnumdepth\}\{0\}\\
%\%\%\%\%\%\%\%\%\%\%\\
%\% \textit{Title, Author, and Address Information}\\
%\textbackslash title\{Title\}\\
%\textbackslash author\{Author 1 \textbackslash and Author 2\textbackslash\textbackslash \\ 
%Address line\textbackslash\textbackslash\\ Address line\textbackslash\textbackslash \\
%\textbackslash And\\
%Author 3\textbackslash\textbackslash\\ Address line\textbackslash\textbackslash\\ Address line\}\\
%\%\%\%\%\%\%\%\%\%\%\\
%\% \textit{Body of Paper Begins}\\
%\textbackslash begin\{document\}\\
%\textbackslash maketitle\\
%...\\
%\%\%\%\%\%\%\%\%\%\%\\
%\% \textit{References and End of Paper}\\
%\textbackslash bibliography\{Bibliography-File\}\\
%\textbackslash bibliographystyle\{aaai\}\\
%\textbackslash end\{document\}
%\end{small}
%\end{quote}
%
%\subsection{Inserting Document Metadata with \LaTeX{}}
%PDF files contain document summary information that enables us to create an Acrobat index (pdx) file, and also allows search engines to locate and present your paper more accurately. \textbf{Document Metadata  for Author and Title are REQUIRED.} 
%
%If your paper includes illustrations that are not compatible with PDF\TeX{} (such as .eps or .ps documents), you will need to convert them. The epstopdf package will usually work for eps files. You will need to convert your ps files to PDF however.
%
%\textit{Important:} Do not include \textit{any} \LaTeX{} code or nonascii characters (including accented characters) in the metadata. The data in the metadata must be completely plain ascii. It may not include slashes, accents, linebreaks, unicode, or any \LaTeX{} commands. Type the title exactly as it appears on the paper (minus all formatting). Input the author names in the order in which they appear on the paper (minus all accents), separating each author by a comma. You may also include keywords in the Keywords field.
%
%
%
%\subsection{Preparing Your Paper}
%
%After the preamble above, you should prepare your paper as follows:
%
%\begin{quote}
%\begin{small}
%\textbackslash begin\{document\}\\
%\textbackslash maketitle\\
%...\\
%\textbackslash bibliography\{Bibliography-File\}\\
%\textbackslash bibliographystyle\{aaai\}\\
%\textbackslash end\{document\}\\
%\end{small}
%\end{quote}
%\subsection{Incompatible Packages}
%The following packages are incompatible with aaai.sty and/or aaai.bst and must not be used (this list is not exhaustive --- there are others as well):
%\begin{itemize}
%\item hyperref
%\item natbib
%\item geometry
%\item titlesec
%\item layout
%\item caption
%\item titlesec
%\item savetrees
%\item T1 fontenc package (install the CM super fonts package instead)
%\end{itemize}
%
%\subsection{Illegal Commands}
%The following commands may not be used in your paper:
%\begin{itemize}
%\item \textbackslash input
%\item \textbackslash vspace (when used before or after a section or subsection)
%\item \textbackslash addtolength 
%\item \textbackslash columnsep
%\item \textbackslash top margin (or text height or addsidemargin or even side margin)
%\item trim or clip (used to crop figures)
%\end{itemize}
%
%\subsection{Paper Size, Margins, and Column Width}
%Papers must be formatted to print in two-column format on 8.5 x 11 inch US letter-sized paper. The margins must be exactly as follows: 
%\begin{itemize}
%\item Top margin: .75 inches
%\item Left margin: .75 inches
%\item Right margin: .75 inches
%\item Bottom margin: 1.25 inches
%\end{itemize} 
%
%
%The default paper size in most installations of \LaTeX{} is A4. However, because we require that your electronic paper be formatted in US letter size, you will need to alter the default for this paper to US letter size. Assuming you are using the 2e version of \LaTeX{}, you can do this by including the [letterpaper] option at the beginning of your file: 
%\textbackslash documentclass[letterpaper]{article}. 
%
%This command is usually sufficient to change the format. Sometimes, however, it may not work. Use PDF\LaTeX{} and include
%\textbackslash setlength\{\textbackslash pdfpagewidth\}\{8.5in\}
%\textbackslash setlength\{\textbackslash pdfpageheight\}\{11in\}
%in your preamble. 
%
%\textbf{Do not use the Geometry package to alter the page size.} Use of this style file alters aaai.sty and will result in your paper being rejected. 
%
%
%\subsubsection{Column Width and Margins.}
%To ensure maximum readability, your paper must include two columns. Each column should be 3.3 inches wide (slightly more than 3.25 inches), with a .375 inch (.952 cm) gutter of white space between the two columns. The aaai.sty file will automatically create these columns for you. 
%
%\subsection{Overlength Papers}
%If your paper is too long, turn on \textbackslash frenchspacing, which will reduce the space after periods. Next,  shrink the size of your graphics. Use \textbackslash centering instead of \textbackslash begin\{center\} in your figure environment. If these two methods don't work, you may minimally use the following. For floats (tables and figures), you may minimally reduce \textbackslash floatsep, \textbackslash textfloatsep, \textbackslash abovecaptionskip, and \textbackslash belowcaptionskip. For mathematical environments, you may minimally reduce \textbackslash abovedisplayskip, \textbackslash belowdisplayskip, and \textbackslash arraycolsep. You may also alter the size of your bibliography by inserting \textbackslash fontsize\{9.5pt\}\{10.5pt\} \textbackslash selectfont
%right before the bibliography. 
%
%Commands that alter page layout are forbidden. These include \textbackslash columnsep, \textbackslash topmargin, \textbackslash topskip, \textbackslash textheight, \textbackslash textwidth, \textbackslash oddsidemargin, and \textbackslash evensizemargin (this list is not exhaustive). If you alter page layout, you will be required to pay the page fee \textit{plus} a reformatting fee. Other commands that are questionable and may cause your paper to be rejected include  \textbackslash parindent, and \textbackslash parskip. Commands that alter the space between sections are also questionable. The title sec package is not allowed. Regardless of the above, if your paper is obviously ``squeezed" it is not going to to be accepted. Before using every trick you know to make your paper a certain length, try reducing the size of your graphics or cutting text instead or (if allowed) paying the extra page charge. It will be cheaper in the long run.
%
%\subsection{Figures}
%Your paper must compile in PDF\LaTeX{}. Consequently, all your figures must be .jpg, .png, or .pdf. You may not use the .gif (the resolution is too low), .ps, or .eps file format for your figures.
%
%When you include your figures, you must crop them \textbf{outside} of \LaTeX{}. The command \textbackslash includegraphics*[clip=true, viewport 0 0 10 10]{...} might result in a PDF that looks great, but the image is \textbf{not really cropped.} The full image can reappear when page numbers are applied or color space is standardized. 
%
%\subsection{Type Font and Size}
%Your paper must be formatted in Times Roman or Nimbus. We will not accept papers formatted using Computer Modern or Palatino or some other font as the text or heading typeface. Sans serif, when used, should be Courier. Use Symbol or Lucida or Computer Modern for \textit{mathematics only. } 
%
%Do not use type 3 fonts for any portion of your paper, including graphics. Type 3 bitmapped fonts are designed for fixed resolution printers. Most print at 300 dpi even if the printer resolution is 1200 dpi or higher. They also often cause high resolution imagesetter devices and our PDF indexing software to crash. Consequently, AAAI will not accept electronic files containing obsolete type 3 fonts. Files containing those fonts (even in graphics) will be rejected. 
%
%Fortunately, there are effective workarounds that will prevent your file from embedding type 3 bitmapped fonts. The easiest workaround is to use the required times, helvet, and courier packages with \LaTeX{}2e. (Note that papers formatted in this way will still use Computer Modern for the mathematics. To make the math look good, you'll either have to use Symbol or Lucida, or you will need to install type 1 Computer Modern fonts --- for more on these fonts, see the section ``Obtaining Type 1 Computer Modern.")
%
%If you are unsure if your paper contains type 3 fonts, view the PDF in Acrobat Reader. The Properties/Fonts window will display the font name, font type, and encoding properties of all the fonts in the document. If you are unsure if your graphics contain type 3 fonts (and they are PostScript or encapsulated PostScript documents), create PDF versions of them, and consult the properties window in Acrobat Reader. 
%
%The default size for your type should be ten-point with twelve-point leading (line spacing). Start all pages (except the first) directly under the top margin. (See the next section for instructions on formatting the title page.) Indent ten points when beginning a new paragraph, unless the paragraph begins directly below a heading or subheading.
%
%\subsubsection{Obtaining Type 1 Computer Modern for \LaTeX{}.}
%
%If you use Computer Modern for the mathematics in your paper (you cannot use it for the text) you may need to download type 1 Computer fonts. They are available without charge from the American Mathematical Society:
%http://www.ams.org/tex/type1-fonts.html. 
%
%\subsection{Title and Authors}
%Your title must appear in mixed case (nouns, pronouns, and verbs are capitalized) near the top of the first page, centered over both columns in sixteen-point bold type (twenty-four point leading). This style is called ``mixed case." Author's names should appear below the title of the paper, centered in twelve-point type (with fifteen point leading), along with affiliation(s) and complete address(es) (including electronic mail address if available) in nine-point roman type (the twelve point leading). (If the title is long, or you have many authors, you may reduce the specified point sizes by up to two points.) You should begin the two-column format when you come to the abstract. 
%
%\subsubsection{Formatting Author Information}
%Author information can be set in a number of different styles, depending on the number of authors and the number of affiliations you need to display. For several authors from the same institution, use \textbackslash and:
%
%\begin{quote}
%\begin{small}
%\textbackslash author\{Author 1 \textbackslash and  ...  \textbackslash and Author \textit{n}\textbackslash \textbackslash  \\
%Address line \textbackslash \textbackslash ~... \textbackslash \textbackslash ~Address line\}
%\end{small}
%\end{quote}
%
%\noindent If the names do not fit well on one line use:
%
%\begin{quote}
%\begin{small}
%\textbackslash author\{Author 1\}\textbackslash \textbackslash \\ \{\textbackslash bf Author 2\}\textbackslash \textbackslash ~ 
%... \textbackslash \textbackslash ~\{\textbackslash bf Author \textit{n}\}\textbackslash \textbackslash \\
%Address line \textbackslash \textbackslash ~ ... \textbackslash \textbackslash ~ Address line\}
%\end{small}
%\end{quote}
%
%\noindent For authors from different institutions, use \textbackslash And:
%
%\begin{quote}
%\begin{small}
%\textbackslash author\{Author 1\textbackslash \textbackslash ~ Address line \textbackslash \textbackslash ~...  \textbackslash \textbackslash ~ Address line
%\textbackslash And  ...  
%\textbackslash And
%Author \textit{n}\textbackslash \textbackslash \\ Address line\textbackslash \textbackslash ~
%... \textbackslash \textbackslash ~
%Address line\}
%\end{small}
%\end{quote}
%
%\noindent To start a separate ``row" of authors, use \textbackslash AND:
%\begin{quote}
%\begin{small}
%\textbackslash author\{Author 1\textbackslash\textbackslash ~ Address line \textbackslash\textbackslash ~
%...  \textbackslash \textbackslash ~ Address line\textbackslash\textbackslash \\
%\textbackslash AND\\
%Author 2 \textbackslash\textbackslash ~ Address line \textbackslash\textbackslash ~
%...  \textbackslash \textbackslash ~ Address line\textbackslash\textbackslash \\
%\textbackslash And\\
%Author 3 \textbackslash\textbackslash ~ Address line \textbackslash\textbackslash ~
%...  \textbackslash \textbackslash ~ Address line\textbackslash\textbackslash \\\}
%\end{small}
%\end{quote}

%\noindent If the title and author information does not fit in the area allocated, place
%\textbackslash setlength\textbackslash titlebox\{\textit{height}\}
%after the \textbackslash documentclass line where \{\textit{height}\} is something like 2.5in.
%
%\subsection{\LaTeX{} Copyright Notice}
%The copyright notice automatically appears if you use aaai.sty. If you are creating a technical report, it is not necessary to include this notice. You may disable the copyright line using the \verb+\+nocopyrightcommand. To change the entire text of the copyright slug, use:
%\textbackslash copyrighttext \{\emph{text}\}.
%Either of these must appear before \textbackslash maketitle. Please be advised, however, that \textit{if you disable or change the copyright line and transfer of copyright is required, your paper will not be published.}
%
%\subsection{Credits}
%Any credits to a sponsoring agency should appear in the acknowledgments section, unless the agency requires different placement. If it is necessary to include this information on the front page, use
%\textbackslash thanks in either the \textbackslash author or \textbackslash title commands.
%For example:
%\begin{quote}
%\begin{small}
%\textbackslash title\{Very Important Results in AI\textbackslash thanks\{This work is
% supported by everybody.\}\}
%\end{small}
%\end{quote}
%Multiple \textbackslash thanks commands can be given. Each will result in a separate footnote indication in the author or title with the corresponding text at the botton of the first column of the document. Note that the \textbackslash thanks command is fragile. You will need to use \textbackslash protect.
%
%Please do not include \textbackslash pubnote commands in your document.
%
%\subsection{Abstract}
%The abstract must be placed at the beginning of the first column, indented ten points from the left and right margins. The title Abstract should appear in ten-point bold type, centered above the body of the abstract. The abstract should be set in nine-point type with ten-point leading. This concise, one-paragraph summary should describe the general thesis and conclusion of your paper. A reader should be able to learn the purpose of the paper and the reason for its importance from the abstract. The abstract should be no more than two hundred words in length. (Authors who are submitting short one- or two-page extended extracts should provide a short abstract of only a sentence or so.) \textbf{Do not include references in your abstract!}

%\subsection{Page Numbers}
%
%Do not \textbf{ever} print any page numbers on your paper. 
%
%\subsection{Text }
%The main body of the paper must be formatted in ten-point with twelve-point leading (line spacing).
%
%\subsection{Citations}
%Citations within the text should include the author's last name and year, for example (Newell 1980). Append lower-case letters to the year in cases of ambiguity. Multiple authors should be treated as follows: (Feigenbaum and Engelmore 1988) or (Ford, Hayes, and Glymour 1992). In the case of four or more authors, list only the first author, followed by et al. (Ford et al. 1997).
%
%\subsection{Extracts}
%Long quotations and extracts should be indented ten points from the left and right margins. 
%
%\begin{quote}
%This is an example of an extract or quotation. Note the indent on both sides. Quotation marks are not necessary if you offset the text in a block like this, and properly identify and cite the quotation in the text. 
%
%\end{quote}
%
%\subsection{Footnotes}
%Avoid footnotes as much as possible; they interrupt the reading of the text. When essential, they should be consecutively numbered throughout with superscript Arabic numbers. Footnotes should appear at the bottom of the page, separated from the text by a blank line space and a thin, half-point rule. 
%
%\subsection{Headings and Sections}
%When necessary, headings should be used to separate major sections of your paper. Remember, you are writing a short paper, not a lengthy book! An overabundance of headings will tend to make your paper look more like an outline than a paper.
%
%First-level heads should be twelve-point Times Roman bold type, mixed case (initial capitals followed by lower case on all words except articles, conjunctions, and prepositions, which should appear entirely in lower case), with fifteen-point leading, centered, with one blank line preceding them and three additional points of leading following them. Second-level headings should be eleven-point Times Roman bold type, mixed case, with thirteen-point leading, flush left, with one blank line preceding them and three additional points of leading following them. Do not skip a line between paragraphs. Third-level headings should be run in with the text, ten-point Times Roman bold type, mixed case, with twelve-point leading, flush left, with six points of additional space preceding them and no additional points of leading following them.
%
%\subsubsection{Section Numbers}
%The use of section numbers in AAAI Press papers is optional. To use section numbers in \LaTeX{}, uncomment the setcounter line in your document preamble and change the 0 to a 1 or 2. Section numbers should not be used in short poster papers.
%
%\subsubsection{Section Headings.}
%Sections should be arranged and headed as follows: 
%
%\subsubsection{Acknowledgments.}
%The acknowledgments section, if included, appears after the main body of text and is headed ``Acknowledgments." This section includes acknowledgments of help from associates and colleagues, credits to sponsoring agencies, financial support, and permission to publish. Please acknowledge other contributors, grant support, and so forth, in this section. Do not put acknowledgments in a footnote on the first page. If your grant agency requires acknowledgment of the grant on page 1, limit the footnote to the required statement, and put the remaining acknowledgments at the back. Please try to limit acknowledgments to no more than three sentences. 
%
%\subsubsection{Appendices.}
%Any appendices follow the acknowledgments, if included, or after the main body of text if no acknowledgments appear. 
%
%\subsubsection{References}
%The references section should be labeled ``References" and should appear at the very end of the paper (don't end the paper with references, and then put a figure by itself on the last page). A sample list of references is given later on in these instructions. Please use a consistent format for references. Poorly prepared or sloppy references reflect badly on the quality of your paper and your research. Please prepare complete and accurate citations.
%
%\subsection{Illustrations and Figures}
%Figures, drawings, tables, and photographs should be placed throughout the paper near the place where they are first discussed. Do not group them together at the end of the paper. If placed at the top or bottom of the paper, illustrations may run across both columns. Figures must not invade the top, bottom, or side margin areas. Figures must be inserted using the \textbackslash usepackage\{graphicx\}. Number figures sequentially, for example, figure 1, and so on. 
%
%The illustration number and caption should appear under the illustration. Labels, and other text in illustrations must be at least nine-point type. 
%
%\subsubsection{Low-Resolution Bitmaps.}
%You may not use low-resolution (such as 72 dpi) screen-dumps and GIF files---these files contain so few pixels that they are always blurry, and illegible when printed. If they are color, they will become an indecipherable mess when converted to black and white. This is always the case with gif files, which should never be used. The resolution of screen dumps can be increased by reducing the print size of the original file while retaining the same number of pixels. You can also enlarge files by manipulating them in software such as PhotoShop. Your figures should be a minimum of 266 dpi when incorporated into your document.
%
%\subsubsection{\LaTeX{} Overflow.}
%\LaTeX{} users please beware: \LaTeX{} will sometimes put portions of the figure or table or an equation in the margin. If this happens, you need to scale the figure or table down, or reformat the equation. Check your log file! You must fix any overflow into the margin (that means no overfull boxes in \LaTeX{}). If you don't, the overflow text will simply be eliminated. \textbf{Nothing is permitted to intrude into the margins.}
%
%\subsubsection{Using Color.}
%Your paper will be printed in black and white and grayscale. Consequently, because conversion to grayscale can cause undesirable effects (red changes to black, yellow can disappear, and so forth), we strongly suggest you avoid placing color figures in your document. Of course, any reference to color will be indecipherable to your reader. 
%
%\subsubsection{Drawings.}
%We suggest you use computer drawing software (such as Adobe Illustrator or, (if unavoidable), the drawing tools in Microsoft Word) to create your illustrations. Do not use Microsoft Publisher. These illustrations will look best if all line widths are uniform (half- to two-point in size), and you do not create labels over shaded areas. Shading should be 133 lines per inch if possible. Use Times Roman or Helvetica for all figure call-outs. \textbf{Do not use hairline width lines} --- be sure that the stroke width of all lines is at least .5 pt. Zero point lines will print on a laser printer, but will completely disappear on the high-resolution devices used by our printers.
%
%\subsubsection{Photographs and Images.}
%Photographs and other images should be in grayscale (color photographs will not reproduce well; for example, red tones will reproduce as black, yellow may turn to white, and so forth) and set to a minimum of 266 dpi. Do not prescreen images.
%
%\subsubsection{Resizing Graphics.}
%Resize your graphics \textbf{before} you include them with LaTeX. You may \textbf{not} use trim or clip options as part of your \textbackslash includgraphics command. Resize the media box of your PDF using a graphics program instead. 
%
%\subsubsection{Fonts in Your Illustrations}
%You must embed all fonts in your graphics before including them in your LaTeX document.
%

%The aaai.sty file includes a set of definitions for use in formatting references with BibTeX. These definitions make the bibliography style fairly close to the one specified below. To use these definitions, you also need the BibTeX style file ``aaai.bst," available in the author kit on the AAAI web site. Then, at the end of your paper but before \textbackslash end{document}, you need to put the following lines:
%\vfill\eject 
\begin{quote}
\begin{small}
\bibliographystyle{aaai}
\bibliography{recom}
\end{small}
\end{quote}

%The list of files in the \textbackslash  bibliography command should be the names of your BibTeX source files (that is, the .bib files referenced in your paper).
%
%The following commands are available for your use in citing references:
%\begin{quote}
%\begin{small}
%\textbackslash cite: Cites the given reference(s) with a full citation. This appears as ``(Author Year)'' for one reference, or ``(Author Year; Author Year)'' for multiple references.\\
%\textbackslash shortcite: Cites the given reference(s) with just the year. This appears as ``(Year)'' for one reference, or ``(Year; Year)'' for multiple references.\\
%\textbackslash citeauthor: Cites the given reference(s) with just the author name(s) and no parentheses.\\
%\textbackslash citeyear: Cites the given reference(s) with just the date(s) and no parentheses.
%\end{small}
%\end{quote}
%
%\textbf{Warning:} The aaai.sty file is incompatible with the hyperref and natbib packages. If you use either, your references will be garbled and your paper will not be published.
%
%Formatted bibliographies should look like the following examples.
%
%\smallskip \noindent \textit{Book with Multiple Authors}\\
%Engelmore, R., and Morgan, A. eds. 1986. \textit{Blackboard Systems.} Reading, Mass.: Addison-Wesley.
%
%\smallskip \noindent \textit{Journal Article}\\
%Robinson, A. L. 1980a. New Ways to Make Microcircuits Smaller. \textit{Science} 208: 1019--1026.
%
%\smallskip \noindent \textit{Magazine Article}\\
%Hasling, D. W.; Clancey, W. J.; and Rennels, G. R. 1983. Strategic Explanations in Consultation. \textit{The International Journal of Man-Machine Studies} 20(1): 3--19.
%
%\smallskip \noindent \textit{Proceedings Paper Published by a Society}\\
%Clancey, W. J. 1983b. Communication, Simulation, and Intelligent Agents: Implications of Personal Intelligent Machines for Medical Education. In Proceedings of the Eighth International Joint Conference on Artificial Intelligence, 556--560. Menlo Park, Calif.: International Joint Conferences on Artificial Intelligence, Inc.
%
%\smallskip \noindent \textit{Proceedings Paper Published by a Press or Publisher}\\
%Clancey, W. J. 1984. Classification Problem Solving. In \textit{Proceedings of the Fourth National Conference on Artificial Intelligence,} 49--54. Menlo Park, Calif.: AAAI Press. 
%
%\smallskip \noindent \textit{University Technical Report}\\
%Rice, J. 1986. Poligon: A System for Parallel Problem Solving, Technical Report, KSL-86-19, Dept. of Computer Science, Stanford Univ. 
%
%\smallskip \noindent \textit{Dissertation or Thesis}\\
%Clancey, W. J. 1979b. Transfer of Rule-Based Expertise through a Tutorial Dialogue. Ph.D. diss., Dept. of Computer Science, Stanford Univ., Stanford, Calif.
%
%\smallskip \noindent \textit{Forthcoming Publication}\\
%Clancey, W. J. 1986a. The Engineering of Qualitative Models. Forthcoming.
%


%\section{Producing Reliable PDF\\Documents with \LaTeX{}}
%Generally speaking, PDF files are platform independent and accessible to everyone. When creating a paper for a proceedings or publication in which many PDF documents must be merged and then printed on high-resolution PostScript RIPs, several requirements must be met that are not normally of concern. Thus to ensure that your paper will look like it does when printed on your own machine, you must take several precautions:
%\begin{itemize}
%\item Use type 1 fonts (not type 3 fonts)
%\item Use only standard Times, Nimbus, and CMR font packages (not fonts like F3 or fonts with tildes in the names or fonts---other than Computer Modern---that are created for specific point sizes, like Times\~{}19) or fonts with strange combinations of numbers and letters
%\item Embed all fonts when producing the PDF
%\item Do not use the [T1]{fontenc} package (install the CM super fonts package instead)
%\end{itemize}
%
%\subsection{Creating Output Using PDF\LaTeX{} Is Required}
%By using the PDF\TeX{} program instead of straight \LaTeX{} or \TeX{}, you will probably avoid the type 3 font problem altogether (unless you use a package that calls for metafont). PDF\LaTeX{} enables you to create a PDF document directly from \LaTeX{} source. The one requirement of this software is that all your graphics and images must be available in a format that PDF\LaTeX{} understands (normally PDF).
%
%PDF\LaTeX{}'s default is to create documents with type 1 fonts. If you find that it is not doing so in your case, it is likely that one or more fonts are missing from your system or are not in a path that is known to PDF\LaTeX{}.
%
%\subsubsection{dvipdf Script}
%Scripts such as dvipdf which ostensibly bypass the Postscript intermediary should not be used since they generally do not instruct dvips to use the config.pdf file.
%
%\subsubsection{dvipdfm}
%Do not use this dvi-PDF conversion package if your document contains graphics (and we recommend you avoid it even if your document does not contain graphics).

%\subsection{Ghostscript}
%\LaTeX{} users should not use GhostScript to create their PDFs.
%
%\subsection{Graphics}
%If you are still finding type 3 fonts in your PDF file, look at your graphics! \LaTeX{} users should check all their imported graphics files as well for font problems.
%
%\section{Proofreading Your PDF}
%Please check all the pages of your PDF file. Is the page size A4? Are there any type 3, Identity-H, or CID fonts? Are all the fonts embedded? Are there any areas where equations or figures run into the margins? Did you include all your figures? Did you follow mixed case capitalization rules for your title? Did you include a copyright notice? Do any of the pages scroll slowly (because the graphics draw slowly on the page)? Are URLs underlined and in color? You will need to fix these common errors before submitting your file. 
%
%\section{Improperly Formatted Files }
%In the past, AAAI has corrected improperly formatted files submitted by the authors. Unfortunately, this has become an increasingly burdensome expense that we can no longer absorb. Consequently, if your file is improperly formatted, it may not be possible to include your paper in the publication. If time allows, however, you will be notified via e-mail (with a copy to the program chair) of the problems with your file and given the option of correcting the file yourself (and paying a late fee) or asking that AAAI have the file corrected for you, for an additional fee. If you opt to correct the file yourself, please note that we cannot provide you with any additional advice beyond that given in your packet. Files that are not corrected after a second attempt will be withdrawn.

%\subsection{\LaTeX{} 209 Warning}
%If you use \LaTeX{} 209 we will not be able to publish your paper. Convert your paper to \LaTeX{}2e.
%
%\section{Naming Your Electronic File}
%We request that you name your \LaTeX{} source file with your last name (family name) so that it can easily be differentiated from other submissions. If you name your files with the name of the event or ``aaai" or ``paper" or ``camera-ready" or some other generic or indecipherable name, you bear all risks of loss --- it is extremely likely that your file may be overwritten.
%
%\section{Submitting Your Electronic Files to AAAI}
%Submitting your files to AAAI is a two-step process. It is explained fully in the author registration and submission instructions. Please consult this document for details on how to submit your paper.

%\section{Inquiries} 
%If you have any questions about the preparation or submission of your paper as instructed in this document, please contact AAAI Press at the address given below. If you have technical questions about implementation of the aaai style file, please contact an expert at your site. We do not provide technical support for \LaTeX{} or any other software package. To avoid problems, please keep your paper simple, and do not incorporate complicated macros and style files.
%
%\begin{quote}
%\noindent AAAI Press\\
%2275 East Bayshore Road, Suite 160\\
%Palo Alto, California 94303\\ 
%\textit{Telephone:} (650) 328-3123\\ 
%\textit{E-mail:} See the submission instructions for your particular conference or event.
%\end{quote}

%\section{Additional Resources}
%\LaTeX{} is a difficult program to master. If you've used that software, and this document didn't help or some items were not explained clearly, we recommend you read Michael Shell's excellent document (testflow doc.txt V1.0a 2002/08/13) about obtaining correct PS/PDF output on \LaTeX{} systems. (It was written for another purpose, but it has general application as well). It is available at www.ctan.org in the tex-archive.

%\section{ Acknowledgments}
%AAAI is especially grateful to Peter Patel Schneider for his work in implementing the aaai.sty file, liberally using the ideas of other style hackers, including Barbara Beeton. We also acknowledge with thanks the work of George Ferguson for his guide to using the style and BibTeX files --- which has been incorporated into this document  --- and Hans Guesgen, who provided several timely modifications, as well as the many others who have, from time to time, sent in suggestions on improvements to the AAAI style. 
%
%The preparation of the \LaTeX{} and Bib\TeX{} files that implement these instructions was supported by Schlumberger Palo Alto Research, AT\&T Bell Laboratories, Morgan Kaufmann Publishers, The Live Oak Press, LLC, and AAAI Press. Bibliography style changes were added by Sunil Issar. \verb+\+pubnote was added by J. Scott Penberthy. George Ferguson added support for printing the AAAI copyright slug. Additional changes to aaai.sty and aaai.bst have been made by the AAAI staff.

%\bigskip
%\noindent Thank you for reading these instructions carefully. We look forward to receiving your electronic files!

\end{document}
